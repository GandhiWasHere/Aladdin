@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@model Aladdin.Models.Product
@{
    Layout = "~/Views/Shared/mylayout.cshtml";
    ViewData["Title"] = "Details";
    var cart_id = HttpContextAccessor.HttpContext.Request.Cookies["cart_id"];
}

@*<link rel="stylesheet" href="~/css/shared-style.css">*@

<script>
    $('#addcart').click(function () {
        @if (cart_id == null) {
            <text>
            alert("you need to login first");
            window.location.replace("/home/login");
            </text>
        }
        else {
            <text>
        $.get('/carts/addproduct',
            {
                'cartid': @cart_id ,
                'productid': "@Html.DisplayFor(model => model.ProductID)",
                'size': "L"
            }).fail(function () {
                alert('sold out.');
            }).done(function () {
                alert("added to cart");
            })
        </text>
        }
    });
</script>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tutorial</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- CSS -->
    <link rel="stylesheet" href="~/css/style.css" />

</head>
<body>

    <div id="Itemdetails">
        <main class="container">

            <!-- Left Column / Headphones Image -->
            <div class="left-column">
                <img data-image="red" class="active" src="/images/@Html.DisplayFor(model => model.ProductImage)" alt="">
            </div>


            <!-- Right Column -->
            <div class="right-column">

                <!-- Product Description -->
                <div class="product-description">
                    <h1>@Html.DisplayFor(model => model.ProductName)</h1>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet tempora dolore tempore, molestias
                        beatae ipsam nemo et praesentium. Consequuntur, placeat!
                    </p>
                </div>

                <!-- Product Configuration -->
                <div class="product-configuration">

                    <!-- Hat Sizes -->
                    <div class="hat-size-config">
                        <span>Hat Size</span>

                        <div class="size-choose">
                            <button>S</button>
                            <button>M</button>
                            <button>L</button>
                        </div>
                    </div>
                </div>

                <!-- Product Pricing -->
                <div class="product-price">
                    <span>Price: </span>&nbsp;
                    <span id="price">@Html.DisplayFor(model => model.ProductPrice)$</span>
                </div>
          

                <div class="add-to-cart">
                    <button class="btn cart-btn" id="addcart">Add to cart</button>
                </div>

                <!-- Rating-->
                <form action="#" method="post" id="commentform" class="comment-form">
                    <div class="comment-form-rating">
                        <p class="your-rating">Your Rating</p>
                        <div class="rate">
                            <input type="radio" id="star5" name="rate" value="5" />
                            <label for="star5" title="text">5 stars</label>
                            <input type="radio" id="star4" name="rate" value="4" />
                            <label for="star4" title="text">4 stars</label>
                            <input type="radio" id="star3" name="rate" value="3" />
                            <label for="star3" title="text">3 stars</label>
                            <input type="radio" id="star2" name="rate" value="2" />
                            <label for="star2" title="text">2 stars</label>
                            <input type="radio" id="star1" name="rate" value="1" />
                            <label for="star1" title="text">1 star</label>
                        </div>
                    </div>
                    <p class="comment-form-comment">Your Review</p>
                    <textarea id="comment" name="comment" cols="30" rows="4" required=""></textarea>
                    <input class="btn submit-btn" type="submit">
                </form>
            </div>
        </main>
    </div>
</body>
</html>